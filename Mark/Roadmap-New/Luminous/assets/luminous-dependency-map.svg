<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 800 620">
  <defs>
    <!-- Arrow marker for dependency lines -->
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#555555"/>
    </marker>

    <!-- Status symbols for colorblind accessibility -->
    <symbol id="status-complete" viewBox="0 0 16 16">
      <circle cx="8" cy="8" r="7" fill="#0d7d3e" stroke="#0d7d3e" stroke-width="1"/>
      <path d="M4.5 8 L7 10.5 L11.5 5.5" fill="none" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    </symbol>

    <symbol id="status-partial" viewBox="0 0 16 16">
      <circle cx="8" cy="8" r="7" fill="none" stroke="#b58900" stroke-width="2"/>
      <path d="M8 1 A7 7 0 0 1 8 15 Z" fill="#b58900"/>
    </symbol>

    <symbol id="status-not-started" viewBox="0 0 16 16">
      <circle cx="8" cy="8" r="7" fill="none" stroke="#c7254e" stroke-width="2"/>
      <path d="M5.5 5.5 L10.5 10.5 M10.5 5.5 L5.5 10.5" fill="none" stroke="#c7254e" stroke-width="2" stroke-linecap="round"/>
    </symbol>

    <!-- Warning/Decision symbol -->
    <symbol id="status-decision" viewBox="0 0 16 16">
      <path d="M8 1 L15 14 L1 14 Z" fill="#f59e0b" stroke="#d97706" stroke-width="1"/>
      <text x="8" y="12" text-anchor="middle" font-family="system-ui, sans-serif" font-size="9" font-weight="bold" fill="white">!</text>
    </symbol>
  </defs>

  <!-- Title -->
  <text x="400" y="28" text-anchor="middle" font-family="system-ui, -apple-system, sans-serif" font-size="20" font-weight="600" fill="#1a1a1a">Luminous Epic Dependency Map</text>

  <!-- Legend -->
  <g transform="translate(400, 52)">
    <use xlink:href="#status-complete" x="-250" y="-8" width="16" height="16"/>
    <text x="-230" y="4" font-family="system-ui, sans-serif" font-size="11" fill="#333333">Complete</text>

    <use xlink:href="#status-partial" x="-150" y="-8" width="16" height="16"/>
    <text x="-130" y="4" font-family="system-ui, sans-serif" font-size="11" fill="#333333">Partial</text>

    <use xlink:href="#status-not-started" x="-50" y="-8" width="16" height="16"/>
    <text x="-30" y="4" font-family="system-ui, sans-serif" font-size="11" fill="#333333">Not Started</text>

    <use xlink:href="#status-decision" x="70" y="-8" width="16" height="16"/>
    <text x="90" y="4" font-family="system-ui, sans-serif" font-size="11" fill="#333333">Decision Needed</text>
  </g>

  <!-- Layer: FOUNDATIONAL -->
  <g>
    <!-- Layer background -->
    <rect x="30" y="75" width="740" height="165" rx="12" fill="#ecfdf5" stroke="#22c55e" stroke-width="1.5" stroke-opacity="0.5"/>
    <text x="50" y="98" font-family="system-ui, sans-serif" font-size="12" font-weight="700" fill="#16a34a">FOUNDATIONAL</text>
    <text x="160" y="98" font-family="system-ui, sans-serif" font-size="11" fill="#64748b">(No Blockers - Start First)</text>

    <!-- EPIC-02: Data Ingestion -->
    <g>
      <rect x="60" y="115" width="180" height="55" rx="8" fill="white" stroke="#22c55e" stroke-width="1.5"/>
      <text x="150" y="138" text-anchor="middle" font-family="system-ui, sans-serif" font-size="12" font-weight="600" fill="#1e293b">LUM-EPIC-02</text>
      <text x="150" y="156" text-anchor="middle" font-family="system-ui, sans-serif" font-size="10" fill="#64748b">Data Ingestion (2.1-2.3)</text>
      <use xlink:href="#status-not-started" x="218" y="122" width="16" height="16"/>
    </g>

    <!-- EPIC-04: Field Operations -->
    <g>
      <rect x="280" y="115" width="180" height="55" rx="8" fill="white" stroke="#22c55e" stroke-width="1.5"/>
      <text x="370" y="138" text-anchor="middle" font-family="system-ui, sans-serif" font-size="12" font-weight="600" fill="#1e293b">LUM-EPIC-04</text>
      <text x="370" y="156" text-anchor="middle" font-family="system-ui, sans-serif" font-size="10" fill="#64748b">Field Ops (Feature 4.1)</text>
      <use xlink:href="#status-not-started" x="438" y="122" width="16" height="16"/>
    </g>

    <!-- Sample Metadata Linkage (merge point) -->
    <g>
      <rect x="120" y="190" width="280" height="40" rx="8" fill="#f0fdf4" stroke="#22c55e" stroke-width="1"/>
      <text x="260" y="215" text-anchor="middle" font-family="system-ui, sans-serif" font-size="11" fill="#166534">Feature 2.3: Sample Metadata Linkage</text>
    </g>

    <!-- Dependency arrows within foundational -->
    <path d="M 150 170 L 150 185 Q 150 190 160 190 L 200 190"
          fill="none" stroke="#555555" stroke-width="1.5" marker-end="url(#arrowhead)"/>
    <path d="M 370 170 L 370 185 Q 370 190 360 190 L 320 190"
          fill="none" stroke="#555555" stroke-width="1.5" marker-end="url(#arrowhead)"/>
  </g>

  <!-- Cross-layer arrow -->
  <path d="M 260 230 L 260 265"
        fill="none" stroke="#555555" stroke-width="2" marker-end="url(#arrowhead)"/>

  <!-- Layer: DEPENDENT -->
  <g>
    <!-- Layer background -->
    <rect x="30" y="275" width="740" height="190" rx="12" fill="#fef2f2" stroke="#ef4444" stroke-width="1.5" stroke-opacity="0.5"/>
    <text x="50" y="298" font-family="system-ui, sans-serif" font-size="12" font-weight="700" fill="#dc2626">DEPENDENT</text>
    <text x="132" y="298" font-family="system-ui, sans-serif" font-size="11" fill="#64748b">(Blocked Until Data Exists)</text>

    <!-- Decision Needed callout -->
    <g>
      <rect x="60" y="315" width="220" height="55" rx="8" fill="#fffbeb" stroke="#f59e0b" stroke-width="1.5"/>
      <use xlink:href="#status-decision" x="75" y="332" width="18" height="18"/>
      <text x="100" y="340" font-family="system-ui, sans-serif" font-size="11" font-weight="600" fill="#92400e">DECISION NEEDED</text>
      <text x="100" y="358" font-family="system-ui, sans-serif" font-size="10" fill="#78350f">Dashboard Tech (See EPIC-01)</text>
    </g>

    <!-- Blocks label -->
    <text x="290" y="345" font-family="system-ui, sans-serif" font-size="9" fill="#94a3b8">blocks</text>
    <path d="M 280 340 L 320 340"
          fill="none" stroke="#94a3b8" stroke-width="1" stroke-dasharray="3,2"/>

    <!-- EPIC-01: Dashboard -->
    <g>
      <rect x="330" y="315" width="180" height="55" rx="8" fill="white" stroke="#ef4444" stroke-width="1.5"/>
      <text x="420" y="338" text-anchor="middle" font-family="system-ui, sans-serif" font-size="12" font-weight="600" fill="#1e293b">LUM-EPIC-01</text>
      <text x="420" y="356" text-anchor="middle" font-family="system-ui, sans-serif" font-size="10" fill="#64748b">Customer Dashboard</text>
      <use xlink:href="#status-not-started" x="488" y="322" width="16" height="16"/>
    </g>

    <!-- EPIC-03: Platform Infrastructure -->
    <g>
      <rect x="550" y="315" width="200" height="55" rx="8" fill="white" stroke="#ef4444" stroke-width="1.5"/>
      <text x="650" y="338" text-anchor="middle" font-family="system-ui, sans-serif" font-size="12" font-weight="600" fill="#1e293b">LUM-EPIC-03</text>
      <text x="650" y="356" text-anchor="middle" font-family="system-ui, sans-serif" font-size="10" fill="#64748b">Platform (notifications, PDF)</text>
      <use xlink:href="#status-partial" x="728" y="322" width="16" height="16"/>
    </g>

    <!-- Dependency from data to dashboard/platform -->
    <path d="M 260 275 L 260 295 Q 260 305 270 305 L 400 305 L 400 315"
          fill="none" stroke="#555555" stroke-width="1.5" marker-end="url(#arrowhead)"/>
    <path d="M 260 275 L 260 295 Q 260 305 270 305 L 630 305 L 630 315"
          fill="none" stroke="#555555" stroke-width="1.5" marker-end="url(#arrowhead)"/>

    <!-- Key Blocker callout -->
    <rect x="60" y="390" width="400" height="60" rx="6" fill="#fef2f2" stroke="#ef4444" stroke-width="1"/>
    <text x="80" y="412" font-family="system-ui, sans-serif" font-size="11" font-weight="600" fill="#dc2626">KEY BLOCKERS</text>
    <text x="80" y="430" font-family="system-ui, sans-serif" font-size="10" fill="#7f1d1d">1. Luminous Platform Group scaffolding (blocks all EPICs)</text>
    <text x="80" y="444" font-family="system-ui, sans-serif" font-size="10" fill="#7f1d1d">2. EPIC-02 Features 2.1-2.3 (blocks EPIC-01, EPIC-03)</text>
  </g>

  <!-- Layer: PARALLEL -->
  <g>
    <!-- Layer background -->
    <rect x="30" y="480" width="740" height="100" rx="12" fill="#f9fafb" stroke="#6b7280" stroke-width="1.5" stroke-opacity="0.5"/>
    <text x="50" y="503" font-family="system-ui, sans-serif" font-size="12" font-weight="700" fill="#4b5563">PARALLEL</text>
    <text x="117" y="503" font-family="system-ui, sans-serif" font-size="11" fill="#64748b">(Can Progress Anytime)</text>

    <!-- EPIC-05: Observability & Docs -->
    <g>
      <rect x="60" y="520" width="200" height="45" rx="8" fill="white" stroke="#6b7280" stroke-width="1.5"/>
      <text x="160" y="543" text-anchor="middle" font-family="system-ui, sans-serif" font-size="12" font-weight="600" fill="#1e293b">LUM-EPIC-05</text>
      <text x="160" y="558" text-anchor="middle" font-family="system-ui, sans-serif" font-size="10" fill="#64748b">Observability and Docs</text>
      <use xlink:href="#status-partial" x="238" y="527" width="16" height="16"/>
    </g>

    <!-- EPIC-03 Feature 3.1 -->
    <g>
      <rect x="300" y="520" width="220" height="45" rx="8" fill="white" stroke="#6b7280" stroke-width="1.5"/>
      <text x="410" y="543" text-anchor="middle" font-family="system-ui, sans-serif" font-size="12" font-weight="600" fill="#1e293b">LUM-EPIC-03 Feature 3.1</text>
      <text x="410" y="558" text-anchor="middle" font-family="system-ui, sans-serif" font-size="10" fill="#64748b">User Provisioning</text>
      <use xlink:href="#status-partial" x="498" y="527" width="16" height="16"/>
    </g>
  </g>

  <!-- Footer -->
  <text x="400" y="605" text-anchor="middle" font-family="system-ui, sans-serif" font-size="10" fill="#94a3b8">Target: Q2 2026 - CNRL Pilot Ready</text>
</svg>
